<!-- blog/post_list.html -->
<h1>Blog Posts</h1>

<form method="get" action="{% url 'search' %}">
    <input type="text" name="q" placeholder="Search posts..." />
    <button type="submit">Search</button>
</form>


{% if user.is_authenticated %}
<a href="{% url 'post-create' %}">Create New Post</a>
{% endif %}

<ul>
{% for post in posts %}
    <li>
        <h2>
            <a href="{% url 'post-detail' post.pk %}">
                {{ post.title }}
            </a>
        </h2>
        <p>{{ post.content|truncatewords:20 }}</p>
        <small>By {{ post.author }} | {{ post.created_at }}</small>
    </li>
{% endfor %}
</ul>
